<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>pkglet - Hybrid Package Manager Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>pkglet</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/builder.html">builder</a></li>
  <li><a href="../modules/cli.html">cli</a></li>
  <li><a href="../modules/config.html">config</a></li>
  <li><a href="../modules/conflict.html">conflict</a></li>
  <li><a href="../modules/example-manifest.html">example-manifest</a></li>
  <li><a href="../modules/fetcher.html">fetcher</a></li>
  <li><a href="../modules/installer.html">installer</a></li>
  <li><a href="../modules/loader.html">loader</a></li>
  <li><a href="../modules/resolver.html">resolver</a></li>
  <li><a href="../modules/search.html">search</a></li>
  <li><a href="../modules/sync.html">sync</a></li>
  <li><strong>version</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>version</code></h1>
<p>Version management and constraint resolution module</p>

<p> This module provides comprehensive version management capabilities including
 version parsing, comparison, constraint evaluation, and dependency resolution.</p>
<p> It supports semantic versioning (SemVer) with extensions for pre-release and
 build metadata, as well as traditional version formats. The constraint system
 supports all common operators including caret ranges, tilde ranges, wildcards,
 and exact versions. This module is essential for modern package management
 requiring precise version control and dependency resolution.</p>

<p> Version comparison follows semantic versioning principles where major.minor.patch
 versions are compared numerically, with pre-release identifiers having lower
 precedence than the associated normal version. Build metadata is ignored for
 version precedence but preserved for完整性. The constraint resolver can handle
 complex dependency graphs with version conflicts and provide optimal solutions.</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#compare">compare (v1, v2)</a></td>
	<td class="summary">Compare two version objects according to semantic versioning rules</p>

<p> This function implements the SemVer comparison algorithm where versions are
 compared first by major version, then minor, then patch.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#compare_prerelease">compare_prerelease (p1, p2)</a></td>
	<td class="summary">Compare pre-release identifiers according to SemVer rules</p>

<p> Pre-release identifiers are compared dot-separated identifier by identifier.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_available_versions">get_available_versions (package_name)</a></td>
	<td class="summary">Get all available versions of a package from repositories</p>

<p> This function scans all configured repositories to find all available
 versions of a specific package.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_latest_version">get_latest_version (package_name, current_version, constraint)</a></td>
	<td class="summary">Check if an upgrade is available for an installed package</p>

<p> This function compares the currently installed version with available
 versions to determine if an upgrade is available.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#highest_satisfying">highest_satisfying (versions, constraint)</a></td>
	<td class="summary">Find the highest version that satisfies a constraint</p>

<p> Given a list of available versions and a constraint, this function returns
 the highest version that satisfies the constraint.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#parse">parse (version_str)</a></td>
	<td class="summary">Parse version string into structured components</p>

<p> This function parses version strings according to semantic versioning rules,
 supporting both standard SemVer formats and extended version schemes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#parse_dependency">parse_dependency (dep_spec)</a></td>
	<td class="summary">Parse dependency specification into package name and version constraint</p>

<p> This function parses dependency strings that combine package names with
 version constraints, extracting both components for processing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#resolve_dependencies">resolve_dependencies (dependencies)</a></td>
	<td class="summary">Resolve version constraints for a set of dependencies</p>

<p> This function attempts to find a compatible set of versions that satisfies
 all dependency constraints simultaneously.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#satisfies">satisfies (constraint, version_str)</a></td>
	<td class="summary">Check if version constraint is satisfied by a specific version</p>

<p> This function evaluates whether a given version satisfies a constraint
 expression, supporting all common constraint operators and formats.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#satisfies_caret">satisfies_caret (constraint, version)</a></td>
	<td class="summary">Check if version satisfies caret range constraint (^1.0.0)</p>

<p> Caret ranges allow changes that do not modify the left-most non-zero
 digit in the version number.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#satisfies_tilde">satisfies_tilde (constraint, version)</a></td>
	<td class="summary">Check if version satisfies tilde range constraint (~1.2.3)</p>

<p> Tilde ranges allow patch-level changes if a minor version is specified,
 or minor-level changes if only the major version is specified.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#satisfies_wildcard">satisfies_wildcard (constraint, version)</a></td>
	<td class="summary">Check if version satisfies wildcard constraint (1.* or 1.2.*)</p>

<p> Wildcard constraints match versions where the wildcard can be any value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#split_prerelease">split_prerelease (prerelease)</a></td>
	<td class="summary">Split pre-release identifier into dot-separated components</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "compare"></a>
    <strong>compare (v1, v2)</strong>
    </dt>
    <dd>
    Compare two version objects according to semantic versioning rules</p>

<p> This function implements the SemVer comparison algorithm where versions are
 compared first by major version, then minor, then patch.  Pre-release versions
 have lower precedence than their associated normal versions. Pre-release
 identifiers are compared dot-separated identifier by identifier, with numeric
 identifiers compared numerically and alphanumeric identifiers compared
 lexically using ASCII sort order.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">v1</span>
         table First version object (from version.parse)
        </li>
        <li><span class="parameter">v2</span>
         table Second version object (from version.parse)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        number -1 if v1 &lt; v2, 0 if v1 == v2, 1 if v1 > v2
    </ol>




</dd>
    <dt>
    <a name = "compare_prerelease"></a>
    <strong>compare_prerelease (p1, p2)</strong>
    </dt>
    <dd>
    Compare pre-release identifiers according to SemVer rules</p>

<p> Pre-release identifiers are compared dot-separated identifier by identifier.
 Numeric identifiers are compared numerically, while alphanumeric identifiers
 are compared lexically using ASCII sort order. Numeric identifiers have
 lower precedence than non-numeric identifiers.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">p1</span>
         string First pre-release identifier
        </li>
        <li><span class="parameter">p2</span>
         string Second pre-release identifier
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        number -1 if p1 &lt; p2, 0 if p1 == p2, 1 if p1 > p2
    </ol>




</dd>
    <dt>
    <a name = "get_available_versions"></a>
    <strong>get_available_versions (package_name)</strong>
    </dt>
    <dd>
    Get all available versions of a package from repositories</p>

<p> This function scans all configured repositories to find all available
 versions of a specific package.  It collects version information from
 manifests and returns a sorted list of available versions.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">package_name</span>
         string Name of the package to search for
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        table Array of available version strings, sorted by version precedence
    </ol>




</dd>
    <dt>
    <a name = "get_latest_version"></a>
    <strong>get_latest_version (package_name, current_version, constraint)</strong>
    </dt>
    <dd>
    Check if an upgrade is available for an installed package</p>

<p> This function compares the currently installed version with available
 versions to determine if an upgrade is available.  It respects any
 version constraints that might be in effect.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">package_name</span>
         string Name of the package to check
        </li>
        <li><span class="parameter">current_version</span>
         string Currently installed version
        </li>
        <li><span class="parameter">constraint</span>
         string Optional version constraint to respect
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        string|nil Latest available version, or nil if no upgrade available
    </ol>




</dd>
    <dt>
    <a name = "highest_satisfying"></a>
    <strong>highest_satisfying (versions, constraint)</strong>
    </dt>
    <dd>
    Find the highest version that satisfies a constraint</p>

<p> Given a list of available versions and a constraint, this function returns
 the highest version that satisfies the constraint.  This is essential for
 dependency resolution where we want to select the most recent compatible
 version.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">versions</span>
         table Array of available version strings
        </li>
        <li><span class="parameter">constraint</span>
         string Version constraint to satisfy
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        string|nil Highest satisfying version, or nil if none satisfy
    </ol>




</dd>
    <dt>
    <a name = "parse"></a>
    <strong>parse (version_str)</strong>
    </dt>
    <dd>
    Parse version string into structured components</p>

<p> This function parses version strings according to semantic versioning rules,
 supporting both standard SemVer formats and extended version schemes.  It extracts
 major, minor, and patch numbers as integers, along with optional pre-release
 and build metadata components. The parser handles various input formats and
 provides meaningful error messages for invalid version strings.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">version_str</span>
         string Version string to parse (e.g., "1.2.3", "2.0.0-alpha", "1.0.0+build.123")
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        table Parsed version components: major, minor, patch, prerelease, build
    </ol>




</dd>
    <dt>
    <a name = "parse_dependency"></a>
    <strong>parse_dependency (dep_spec)</strong>
    </dt>
    <dd>
    Parse dependency specification into package name and version constraint</p>

<p> This function parses dependency strings that combine package names with
 version constraints, extracting both components for processing.  It supports
 various formats including "package>=1.0.0", "package@^2.0.0", etc.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">dep_spec</span>
         string Dependency specification (e.g., "package>=1.0.0", "package@^2.0.0")
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        table Parsed dependency with name and constraint fields
    </ol>




</dd>
    <dt>
    <a name = "resolve_dependencies"></a>
    <strong>resolve_dependencies (dependencies)</strong>
    </dt>
    <dd>
    Resolve version constraints for a set of dependencies</p>

<p> This function attempts to find a compatible set of versions that satisfies
 all dependency constraints simultaneously.  It's a simplified version of
 a full SAT solver but handles most common scenarios effectively.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">dependencies</span>
         table Array of dependency specifications
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        table|nil Resolved dependencies with specific versions, or nil if unresolvable
    </ol>




</dd>
    <dt>
    <a name = "satisfies"></a>
    <strong>satisfies (constraint, version_str)</strong>
    </dt>
    <dd>
    Check if version constraint is satisfied by a specific version</p>

<p> This function evaluates whether a given version satisfies a constraint
 expression, supporting all common constraint operators and formats.
 It handles simple equality, range constraints, caret ranges, tilde
 ranges, and wildcard expressions.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">constraint</span>
         string Version constraint expression (e.g., ">=1.0.0", "^2.0.0", "~1.5.0", "*")
        </li>
        <li><span class="parameter">version_str</span>
         string Version to test against the constraint
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        boolean True if the version satisfies the constraint, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "satisfies_caret"></a>
    <strong>satisfies_caret (constraint, version)</strong>
    </dt>
    <dd>
    Check if version satisfies caret range constraint (^1.0.0)</p>

<p> Caret ranges allow changes that do not modify the left-most non-zero
 digit in the version number.  For example, ^1.2.3 allows >=1.2.3 &lt;2.0.0.
 This is the most common and recommended range type for most dependencies.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">constraint</span>
         string Caret constraint (e.g., "^1.2.3")
        </li>
        <li><span class="parameter">version</span>
         table Parsed version to test
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        boolean True if version satisfies the caret range
    </ol>




</dd>
    <dt>
    <a name = "satisfies_tilde"></a>
    <strong>satisfies_tilde (constraint, version)</strong>
    </dt>
    <dd>
    Check if version satisfies tilde range constraint (~1.2.3)</p>

<p> Tilde ranges allow patch-level changes if a minor version is specified,
 or minor-level changes if only the major version is specified.  For example,
 ~1.2.3 allows >=1.2.3 &lt;1.3.0, while ~1.2 allows >=1.2.0 &lt;2.0.0.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">constraint</span>
         string Tilde constraint (e.g., "~1.2.3")
        </li>
        <li><span class="parameter">version</span>
         table Parsed version to test
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        boolean True if version satisfies the tilde range
    </ol>




</dd>
    <dt>
    <a name = "satisfies_wildcard"></a>
    <strong>satisfies_wildcard (constraint, version)</strong>
    </dt>
    <dd>
    Check if version satisfies wildcard constraint (1.* or 1.2.*)</p>

<p> Wildcard constraints match versions where the wildcard can be any value.
 For example, 1.* matches all versions >=1.0.0 &lt;2.0.0, while 1.2.* matches
 all versions >=1.2.0 &lt;1.3.0.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">constraint</span>
         string Wildcard constraint (e.g., "1.<em>", "1.2.</em>")
        </li>
        <li><span class="parameter">version</span>
         table Parsed version to test
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        boolean True if version satisfies the wildcard constraint
    </ol>




</dd>
    <dt>
    <a name = "split_prerelease"></a>
    <strong>split_prerelease (prerelease)</strong>
    </dt>
    <dd>
    Split pre-release identifier into dot-separated components


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">prerelease</span>
         string Pre-release identifier (e.g., "alpha.1.beta")
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        table Array of identifier components
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2026-02-19 22:58:40 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
